<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeZone</title>
    <link rel="stylesheet" href="../reset.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,700;0,800;1,700&display=swap" rel="stylesheet">

</head>
<body>
    <div class="content">
        <h1 class="title">WORLD CLOCK</h1>
        <div class="main">
            <div class="block">
                <h2 class="zone">
                    NEW YORK <br><span class="date">27 JAN. 2019</span>
                </h2>
                <div class="time">02:46</div>
            </div>
            <div class="block">
                <h2 class="zone">
                    LONDON <br><span class="date">28 JAN. 2019</span>
                </h2>
                <div class="time">07:46</div>
            </div>
            <div class="block">
                <h2 class="zone">
                    BANGKOK <br><span class="date">28 JAN. 2019</span>
                </h2>
                <div class="time">14:46</div>
            </div>
            <div class="block">
                <h2 class="zone">
                    TAIWAN <br><span class="date">28 JAN. 2019</span>
                </h2>
                <div class="time">15:46</div>
            </div>
            <div class="block">
                <h2 class="zone">
                    SYDNEY <br><span class="date">28 JAN. 2019</span>
                </h2>
                <div class="time">18:46</div>
            </div>
        </div>
    </div>
    <script>
        var date = document.querySelectorAll('.date'),
            time = document.querySelectorAll('.time');
        var datum =[
            {
                timeZone:'US/Eastern',
                date: "",
                time: "",
            },
            {
                timeZone:'Europe/London',
                date: "",
                time: "",
            },
            {
                timeZone:'Asia/Bangkok',
                date: "",
                time: "",
            },
            {
                timeZone:'Asia/Taipei',
                date: "",
                time: "",
            },
            {
                timeZone:'Australia/Sydney',
                date: "",
                time: "",
            },
        ]
            mon = []
        var nowTime;
        function setTimeZone(){
            nowTime = new Date();
            let i =0;
            for(data of datum){
                data.time = nowTime.toLocaleTimeString('en-GB',{timeZone:data.timeZone,hour12:false});
                time[i].innerText = data.time.slice(0,5);
                data.date = nowTime.toLocaleDateString('en-GB',{timeZone:data.timeZone, day:"2-digit", month:'short',year:'numeric'});
                mon[i] = data.date.slice(3,6);
                data.date = data.date.replace(mon[i],mon[i]+".");
                date[i].innerText =data.date;
                i++
            }
        }
        setTimeZone();
        setInterval(setTimeZone,6000);
    </script>
</body>
</html>