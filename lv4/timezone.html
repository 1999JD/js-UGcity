<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeZone</title>
    <link rel="stylesheet" href="../reset.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,700;0,800;1,700&display=swap" rel="stylesheet">

</head>
<body>
    <div class="content">
        <h1 class="title">WORLD CLOCK</h1>
        <div class="main">
            <div class="block">
                <h2 class="zone">
                    NEW YORK <br><span class="date">27 JAN. 2019</span>
                </h2>
                <div class="time">02:46</div>
            </div>
            <div class="block">
                <h2 class="zone">
                    LONDON <br><span class="date">28 JAN. 2019</span>
                </h2>
                <div class="time">07:46</div>
            </div>
            <div class="block">
                <h2 class="zone">
                    BANGKOK <br><span class="date">28 JAN. 2019</span>
                </h2>
                <div class="time">14:46</div>
            </div>
            <div class="block">
                <h2 class="zone">
                    TAIWAN <br><span class="date">28 JAN. 2019</span>
                </h2>
                <div class="time">15:46</div>
            </div>
            <div class="block">
                <h2 class="zone">
                    SYDNEY <br><span class="date">28 JAN. 2019</span>
                </h2>
                <div class="time">18:46</div>
            </div>
        </div>
    </div>
    <script>
        var date = document.querySelectorAll('.date'),
            time = document.querySelectorAll('.time');
        var nyTime,ldTime,bkTime,twTime,snTime;
        var nyDate,ldDate,bkDate,twDate,snDate;
        var timeArr=[nyTime,ldTime,bkTime,twTime,snTime],
            dateArr=[nyDate,ldDate,bkDate,twDate,snDate],
            timeZone =['US/Eastern','Europe/London','Asia/Bangkok','Asia/Taipei','Australia/Sydney'];
            mon = []
        var nowTime;

        setTimeZone();
        setInterval(setTimeZone,6000);
        function setTimeZone(){
            nowTime = new Date();
            for(let i = 0 ;i<timeArr.length;i++){
                timeArr[i] = nowTime.toLocaleTimeString('en-GB',{timeZone:""+timeZone[i],hour12:false});
                time[i].innerText = timeArr[i].slice(0,5);
                
                dateArr[i] = nowTime.toLocaleDateString('en-GB',{timeZone:""+timeZone[i], day:"2-digit", month:'short',year:'numeric'});
                mon[i] = dateArr[i].slice(3,6);
                dateArr[i] = dateArr[i].replace(mon[i],mon[i]+".");
                date[i].innerText = dateArr[i];
            }
        }
    </script>
</body>
</html>